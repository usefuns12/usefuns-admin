<div class="d-flex justify-content-between align-items-center my-4">
  <h4>Agencies</h4>
  <button class="btn btn-primary" (click)="openDialog('add')">Add New</button>
</div>

<table class="table" *ngIf="agencies.length; else noData">
  <thead>
    <tr>
      <th>#</th>
      <th>Agency ID</th>
      <th>Code</th>
      <th>Name</th>
      <th>Country</th>
      <th>Owner</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let agency of agencies; index as i">
      <td>{{ i + 1 }}</td>
      <td>{{ agency.agencyId }}</td>
      <td>{{ agency.code }}</td>
      <td>{{ agency.name }}</td>
      <td>{{ agency.country }}</td>
      <td>
        {{
          agency.ownerUserId?.customerRef?.name +
            " (" +
            agency.ownerUserId?.customerRef?.userId +
            ")" || "--"
        }}
      </td>
      <td>
        <div class="action-btns d-flex">
          <fa-icon
            [icon]="['far', 'pen-to-square']"
            class="flex-grow-1 edit-icon"
            matTooltip="Edit"
            (click)="openDialog('edit', agency)"
          ></fa-icon>
          <fa-icon
            [icon]="['far', 'trash-can']"
            class="flex-grow-1 text-danger"
            matTooltip="Remove"
            (click)="openDialog('removeAgency', agency)"
          ></fa-icon>
        </div>
      </td>
    </tr>
  </tbody>
</table>

<ng-template #noData>
  <p>No records found.</p>
</ng-template>

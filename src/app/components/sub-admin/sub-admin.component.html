<div class="d-flex justify-content-between align-items-center my-4">
  <h4>Sub Admins</h4>
  <button class="btn btn-primary" (click)="openDialog('add')">Add New</button>
</div>

<table class="table" *ngIf="subAdmins.length; else noData">
  <thead>
    <tr>
      <th>#</th>
      <th>User ID</th>
      <th>Name</th>
      <th>Country</th>
      <th>Parents</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let sub of subAdmins; index as i">
      <td>{{ i + 1 }}</td>
      <td>{{ sub.customerRef?.userId }}</td>
      <td>{{ sub.customerRef?.name }}</td>
      <td>{{ sub.country || "--" }}</td>
      <td>
        <!-- parents = [manager, country admin, admin] -->
        <ng-container *ngFor="let parent of sub.parents; let last = last">
          {{ parent?.customerRef?.name }} <span *ngIf="!last"> / </span>
        </ng-container>
      </td>
      <td>
        <div class="action-btns d-flex">
          <fa-icon
            [icon]="['far', 'pen-to-square']"
            class="flex-grow-1 edit-icon"
            matTooltip="Edit"
            (click)="openDialog('edit', sub)"
          ></fa-icon>
          <fa-icon
            [icon]="['far', 'trash-can']"
            class="flex-grow-1 text-danger"
            matTooltip="Remove"
            (click)="openDialog('removeSubAdmin', sub)"
          ></fa-icon>
        </div>
      </td>
    </tr>
  </tbody>
</table>

<ng-template #noData>
  <p>No records found.</p>
</ng-template>
